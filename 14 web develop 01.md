<!-- TOC -->

- [一、Web应用工作原理](#一web应用工作原理)
    - [1. 从一个简单的网页浏览开始](#1-从一个简单的网页浏览开始)
    - [2. 名词定义](#2-名词定义)
        - [2.1 客户端](#21-客户端)
        - [2.2 服务器](#22-服务器)
        - [2.3 IP地址](#23-ip地址)
        - [2.4 DNS](#24-dns)
        - [2.5 域名](#25-域名)
        - [2.6 端口号](#26-端口号)
        - [2.7 HTTP](#27-http)
        - [2.8 URL](#28-url)
    - [3. 代码到页面生成过程](#3-代码到页面生成过程)
        - [3.1 输入URL](#31-输入url)
        - [3.2 域名解析](#32-域名解析)
        - [3.3 向Web服务器发送请求](#33-向web服务器发送请求)
        - [3.4 Web服务器响应请求](#34-web服务器响应请求)
        - [3.5 完成请求](#35-完成请求)
        - [3.5 浏览器解析渲染生成页面。](#35-浏览器解析渲染生成页面)
- [二、Web应用程序结构](#二web应用程序结构)
    - [2.1 B/S模型](#21-bs模型)
    - [2.2 基本Web应用程序配置](#22-基本web应用程序配置)
        - [2.2.1 客户端(Browser)](#221-客户端browser)
        - [2.2.2 服务器(Server)](#222-服务器server)
        - [2.2.3 数据库(DataBase)](#223-数据库database)
- [三、HTTP/HTTPS协议](#三httphttps协议)
- [四、一些例子](#四一些例子)
- [五、参考资料](#五参考资料)
- [六、深入学习](#六深入学习)
- [七、作业](#七作业)

<!-- /TOC -->
# 一、Web应用工作原理
## 1. 从一个简单的网页浏览开始
当在浏览器的地址栏里输入某个地址(域名/IP)，访问该站点的时候，背后发生了什么事情呢？
```
www.github.com
```
## 2. 名词定义
### 2.1 客户端
在计算机上运行并连接到互联网的应用程序，如Chrome或Firefox。其主要作用是进行用户交互，并将其转换为对另一台称为Web服务器的计算机的请求。虽然我们通常使用浏览器访问网络，但您可以将整个计算机视为客户端 - 服务器模型的“客户端”。每个客户端计算机都有一个唯一的地址，称为IP地址，其他计算机可以用来识别它。
### 2.2 服务器
连接到互联网且具有IP地址的机器。服务器等待来自其他机器（例如客户机）的请求并对其进行响应。不同于您的计算机（即客户端），服务器也具有IP地址并安装运行特殊的服务器软件，确定如何响应来自浏览器的请求。 Web服务器的主要功能是将网页存储，处理和传送给客户端。有许多类型的服务器，包括Web服务器，数据库服务器，文件服务器，应用程序服务器等
### 2.3 IP地址
互联网协议地址。 TCP / IP网络上的设备（计算机，服务器，打印机，路由器等）的数字标识符。互联网上的每台计算机都有一个IP地址，用于识别和与其他计算机通信。 IP地址有四组数字，以小数点分隔（例如244.155.65.2）。这被称为“逻辑地址”。为了在网络中定位设备，通过TCP / IP协议软件将逻辑IP地址转换为物理地址。这个物理地址（即MAC地址）内置在您的硬件中。
### 2.4 DNS
域名系统。跟踪计算机的域名及其在互联网上相应IP地址的分布式数据库。不要担心“分布式数据库”如何工作：只需要知道输入```www.github.com```, 而不是IP地址就行了。
### 2.5 域名
用于标识一个或多个IP地址。使用域名（例如```www.github.com```, ）访问互联网上的网站。在浏览器中键入域名时，DNS使用它来查找该给定网站的IP地址。
### 2.6 端口号
一个16位整数，用于标识服务器上的特定端口，并始终与IP地址相关联。它可以用来识别服务器上可以转发网络请求的特定进程.
### 2.7 HTTP
超文本传输协议。 Web浏览器和Web服务器用于通过互联网进行通信的协议。
### 2.8 URL
统一资源定位符。 URL识别特定的Web资源。一个简单的例子是https://github.com/tb1over. URL指定协议（“https”），主机名（```github.com```）和文件名（某人的个人资料页面）。用户可以从域名为github.com的网络主机通过HTTP获取该URL所标识的Web资源。
## 3. 代码到页面生成过程
### 3.1 输入URL
 浏览器解析URL中包含的信息。包括协议（“https”），域名（“github.com”）和资源（“/”）。 在这种情况下，“.com”之后没有指示特定的资源，所以浏览器知道检索主（索引）页面

![](http://p0.qhimg.com/t01c869ebeabdd534c1.png)

### 3.2 域名解析 
浏览器与DNS服务器通信，解析域名```www.github.com```对应的IP地址（媒人）

![](http://p0.qhimg.com/t0131e28807f376490e.gif)

浏览器获得```github.com```对应的IP地址

浏览器从URL中获取IP地址和给定的端口号（HTTP协议默认为端口80，HTTPS默认为端口443），并打开TCP套接字连接。 此时，Web服务器终于可以连接
![](http://p0.qhimg.com/t01f981a5ba2985f958.png)

### 3.3 向Web服务器发送请求

![](http://p0.qhimg.com/t011fb50edbb274e338.png)

### 3.4 Web服务器响应请求

Web服务器接收请求并查找该HTML页面。 如果页面存在，则Web服务器准备响应并将其发送回您的浏览器。 如果服务器找不到请求的页面，它将发送一个HTTP 404错误消息，代表“找不到页面”。
![](http://p0.qhimg.com/t0101a1197df9353e5d.png) 

Web浏览器将接收到HTML页面，然后通过它从上到按下解析寻找列出的其他资源，如图像，CSS文件，JavaScript文件等。

### 3.5 完成请求

浏览器完成加载HTML页面中列出的所有其他资源后，页面将最终加载到浏览器窗口中，并且连接将被关闭。

### 3.5 浏览器解析渲染生成页面。

![](http://p0.qhimg.com/t01580da28230348db3.jpg)
# 二、Web应用程序结构
## 2.1 B/S模型
通过网络通信的客户端和服务器的这一想法称为“客户端 - 服务器”模型。 这让浏览网站（如此）和与Web应用程序（如GitHub）进行交互变为可能。
## 2.2 基本Web应用程序配置
### 2.2.1 客户端(Browser)

客户端是用户与之交互的。 因此，“客户端”代码对用户实际看到的大部分内容负责。 这包括：
- 定义网页的结构(HTML) 
- 设置网页的外观(CSS)
- 实现响应用户交互的机制（点击按钮，输入文本等）(JavaScript)

### 2.2.2 服务器(Server)
Web应用程序中的服务器监听来自客户端的请求。 设置HTTP服务器时，将其设置监听一个端口号。端口号始终与计算机的IP地址相关联。

设置了HTTP服务器来侦听特定的端口，服务器将等待来自该特定端口的客户端请求，执行该请求所描述的操作，并通过HTTP发送响应请求的数据。

### 2.2.3 数据库(DataBase)
 数据库是存储信息的地方，可以轻松访问，管理和更新信息。
 - 关系型：
    - Oracle
    - MySQL
    - PostgreSQL
    - SQLServer Access 
    - DB2
    - SQLite
    - ......
- 非关系型(NoSQL)
    - MongoDB
    - Redis 
    - ......
    
各大数据库使用情况。[DB-Engines Ranking](https://db-engines.com/en/ranking)




# 三、HTTP/HTTPS协议

# 四、一些例子

# 五、参考资料

[How the Web Works Part III: HTTP & REST](http://www.zcfy.cc/original/4136)

# 六、深入学习

# 七、作业